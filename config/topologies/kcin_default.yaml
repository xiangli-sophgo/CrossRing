
# Basic Parameters
KCIN_VERSION: v1  # 架构版本: v1 (IQ/RB/EQ) 或 v2 (RingStation)
TOPO_TYPE: 5x4  # 格式 AxB，自动计算拓扑参数
FLIT_SIZE: 128
BURST: 4
NETWORK_FREQUENCY: 2

# Buffer Size
RN_RDB_SIZE: 192  # RN读数据缓冲区
RN_WDB_SIZE: 192  # RN写数据缓冲区
SN_DDR_RDB_SIZE: 192  # SN DDR读数据缓冲区
SN_DDR_WDB_SIZE: 192  # SN DDR写数据缓冲区
SN_L2M_RDB_SIZE: 192  # SN L2M读数据缓冲区
SN_L2M_WDB_SIZE: 192  # SN L2M写数据缓冲区
RN_R_TRACKER_OSTD: auto
RN_W_TRACKER_OSTD: auto
SN_DDR_R_TRACKER_OSTD: auto
SN_DDR_W_TRACKER_OSTD: auto
SN_L2M_R_TRACKER_OSTD: auto
SN_L2M_W_TRACKER_OSTD: auto

# KCIN Config
SLICE_PER_LINK_HORIZONTAL: 7
SLICE_PER_LINK_VERTICAL: 7
CP_SLICE_COUNT: 2  # CrossPoint slice count (pipeline depth)
IQ_CH_FIFO_DEPTH: 8
EQ_CH_FIFO_DEPTH: 8
IQ_OUT_FIFO_DEPTH_HORIZONTAL: 6
IQ_OUT_FIFO_DEPTH_VERTICAL: 6
IQ_OUT_FIFO_DEPTH_EQ: 6
RB_OUT_FIFO_DEPTH: 8
RB_IN_FIFO_DEPTH: 8
EQ_IN_FIFO_DEPTH: 8
IP_L2H_FIFO_DEPTH: 3
IP_H2L_H_FIFO_DEPTH: 2
IP_H2L_L_FIFO_DEPTH: 2
TL_Etag_T2_UE_MAX: 4
TL_Etag_T1_UE_MAX: 7
TR_Etag_T2_UE_MAX: 6
TU_Etag_T2_UE_MAX: 5
TU_Etag_T1_UE_MAX: 7
TD_Etag_T2_UE_MAX: 6
ITag_TRIGGER_Th_H: 100
ITag_TRIGGER_Th_V: 100
ITag_MAX_Num_H: 1
ITag_MAX_Num_V: 1
DDR_R_LATENCY: 0
DDR_R_LATENCY_VAR: 0
DDR_W_LATENCY: 0
L2M_R_LATENCY: 0
L2M_W_LATENCY: 0
SN_TRACKER_RELEASE_LATENCY: 40
SN_PROCESSING_LATENCY: 2  # SN端处理延迟 (ns)
RN_PROCESSING_LATENCY: 2  # RN端处理延迟 (ns)
GDMA_BW_LIMIT: 128
SDMA_BW_LIMIT: 128
CDMA_BW_LIMIT: 128
DDR_BW_LIMIT: 128
L2M_BW_LIMIT: 128

# Feature Config
UNIFIED_RW_TRACKER: false  # true=读写共享资源池，false=读写分离
ETAG_T1_ENABLED: true  # true=三级(T2→T1→T0), false=两级(T2→T0)
ETAG_BOTHSIDE_UPGRADE: 1
ORDERING_PRESERVATION_MODE: 0  # 0=不保序, 1=单侧下环(TL/TU), 2=双侧下环(白名单), 3=动态方向
ORDERING_ETAG_UPGRADE_MODE: 0  # 0=仅资源失败升级ETag, 1=保序失败也升级ETag
ORDERING_GRANULARITY: 1  # 0=IP层级, 1=节点层级
ENABLE_CROSSPOINT_CONFLICT_CHECK: 0  # CrossPoint冲突检查 (0=检查当前周期, 1=检查当前+前一周期)

# 需要保序的包类型
IN_ORDER_PACKET_CATEGORIES:
  - "REQ"
IN_ORDER_EJECTION_PAIRS: []

# 仲裁器配置
arbitration:
  default:
    type: round_robin

